<div class="container mx-auto py-4">
  <h1 class="text-2xl font-bold text-center mb-6">みんなのイベント結果一覧</h1>

  <!-- タグ検索フォーム -->
  <div class="mb-6 text-center">
    <%= form_with url: events_path, method: :get, local: true, class: "form-control w-full max-w-md mx-auto flex gap-2" do |f| %>
      <%= f.text_field :tag, placeholder: "タグを入力", class: "input input-bordered w-full" %>
      <%= f.submit "検索", class: "btn btn-primary" %>
    <% end %>
  </div>

  <!-- タグ一覧 -->
  <div class="mb-4 text-center">
    <% Event.tag_counts.each do |tag| %>
      <%= link_to tag.name, events_path(tag: tag.name), 
                  class: "badge badge-outline badge-lg rounded-full px-4 py-2 hover:bg-gray-200 text-sm mr-2" %>
    <% end %>
  </div>

  <!-- 共通テンプレートの呼び出し -->
  <%= render 'event_list', events: @events %>
</div>
