<header class="fixed top-0 left-0 w-full bg-gray-100 z-50">
  <div class="flex items-center justify-between px-4 py-2">
    <!-- 左側: ロゴとタイトル -->
    <div class="flex items-center space-x-4">
      <%= image_tag '5.png', class: "h-10 rounded-full" %>
      <%= link_to "MINI4NOTE", root_path, class: "text-xl font-bold" %>
    </div>

    <!-- 右側: ユーザー名とメニュー -->
    <div class="flex items-center flex-wrap justify-end space-x-4">
      <% if user_signed_in? %>
        <!-- ユーザー名 -->
        <span class="text-gray-800 text-sm truncate max-w-[100px] sm:max-w-none"><%= current_user.name %></span>

        <!-- メニュー -->
        <div class="dropdown dropdown-end">
          <label tabindex="0" class="btn btn-ghost text-gray-600">
            メニュー
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </label>
          <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52 text-gray-600">
            <li><%= link_to 'ログアウト', destroy_user_session_path, method: :delete %></li>
            <li><%= link_to 'あなたのレース一覧', user_index_events_path %></li>
            <li><%= link_to '全員のレース一覧', events_path %></li>
          </ul>
        </div>
      <% else %>
        <!-- メニュー (ログインしていない場合) -->
        <div class="dropdown dropdown-end">
          <label tabindex="0" class="btn btn-ghost text-gray-600">
            メニュー
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </label>
          <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52 text-gray-600">
            <li><%= link_to 'ログイン', new_user_session_path %></li>
            <li><%= link_to '新規登録', new_user_registration_path %></li>
            <li><%= link_to '全員のレース一覧', events_path %></li>
          </ul>
        </div>
      <% end %>
    </div>
  </div>
</header>
